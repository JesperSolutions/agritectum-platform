# Firebase Trigger Email Extension Configuration
# Copy this file to firestore-send-email.env and fill in your values
# NEVER commit the actual .env file with real credentials!

AUTH_TYPE=UsernamePassword
DATABASE=(default)
DATABASE_REGION=europe-west3

# Email Configuration
DEFAULT_FROM="Taklaget System" <noreply@taklaget.app>
DEFAULT_REPLY_TO=support@taklaget.app

# SMTP Configuration - USE SECRET MANAGER FOR PASSWORD
SMTP_CONNECTION_URI=smtp://YOUR_SMTP_USERNAME@smtp.mailersend.net:587
SMTP_PASSWORD=projects/YOUR_PROJECT_ID/secrets/SMTP_PASSWORD/versions/latest

# Collections
MAIL_COLLECTION=mail
TEMPLATES_COLLECTION=mail-templates

# TTL Configuration
TTL_EXPIRE_TYPE=week
TTL_EXPIRE_VALUE=1

# OAuth Settings
OAUTH_PORT=465
OAUTH_SECURE=false

# Event Settings
ALLOWED_EVENT_TYPES=firebase.extensions.firestore-send-email.v1.onStart
EVENTARC_CHANNEL=projects/${param:PROJECT_ID}/locations/us-central1/channels/firebase

# Function Settings
firebaseextensions.v1beta.function/ingressSettings=ALLOW_ALL
firebaseextensions.v1beta.function/location=europe-west3
firebaseextensions.v1beta.function/minInstances=0
firebaseextensions.v1beta.function/vpcConnectorEgressSettings=VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED
firebaseextensions.v1beta.v2function/memory=256Mi

